
<head>
<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
</head>

<h3>Event Details</h3></br>
  <h4>Event Name:</h4>
  <%= @currentEvent %></br>
  <h4>Event Coordinates </h4>
  <%= @currentEventCoord %>
</br>

<h3>HEIGHT ALL ARRAY</h3>
<%= @heightLimits%>
<%= @minHeight%>
<%= @maxHeight%></br>



<h3>Point Array</h3>
<%= @points%>
<h3>@lower</h3>
<%= @lower%>
<h3>@upper</h3>
<%= @upper%>
<h3>@Lower_Upper</h3>
<%= @innerPolygon%>
<%= @outterPolygon%>



<h4>Min Height ArrayHash</h4>
<%= @minHeightArray%></br>
<%= @minHeightArray.length%>


<h4>Max Height Array</h4>
<%= @maxHeightArray%></br>
<%= @maxHeightArray.length%>

<h4>Grouped Array</h4>

<%= @groupedArray%>




<h3>BSON DATA</h3>
<%= @bsonPresent%>

<h3>BsonHash</h3>
<%= @bsonHash %>

<h3>First User Details </h3>
<%= @neighbours_coord %>

<h3>Present Users</h3>
<%= @present%>

<h3>Present Length</h3>
<%= @present.length%>


<h3>Boundary Users</h3>
<%= @polygon %>

<h4>Boundary Length</h4>
<%= @polygon.length%>

<h4>Skipped Users</h4>
<%= @present - @polygon%>

<h3>@Present</h3>
<%= @f = @present.map{|d| d.reverse}%>
<%= @f = @f.map{|lat, long, infowindow| {lat: lat, lng: long, infowindow: ([lat, long]).to_s} }%>

<h3>Boundar Hash</h3>
<% @c = @lower_upper.map{|d| d.reverse}%>
<%= @c = @c.map{|lat, long| {lat: lat, lng: long}} %>

<h3>Height Data</h3>
<% @maxHeightSet.each do |h| %>
<%= h.location.coordinates %>
<%= h.height %>
<%end%>

<h4>DistinctHeight</h4>
<%@distinctHeight.each do |d|%>
<%= d %>
<%end%>

<h3>Outter</h3>
<% @out = @secondSetCoord.map{|d| d.reverse}%>

<%= @out = @out.map{|lat, long| {lat: lat, lng: long}} %>











<!-- <div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div> -->

// <script type="text/javascript">
	
// handler = Gmaps.build('Google');
// handler.buildMap({ internal: {id: 'map'}}, function(){
//   markers = handler.addMarkers([
//     {
//       lat: 0,
//       lng: 0,
//       picture: {
//         url: "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
//         width:  36,
//         height: 36
//       },
//       infowindow: "hello!"
//     }
//   ]);
// });
// </script>

<div style='width: 800px;'>
  <div id="multi_overlays" style='width: 800px; height: 400px;'></div>
</div>

<script type="text/javascript">
// var myData = <%= raw json_escape(@fakeData.to_json) %>;
var myData = <%= @c.to_json.html_safe %>
var innerData = <%= @innerPolygon.to_json.html_safe %>
var outerData = <%= @outterPolygon.to_json.html_safe %>
var usersData = <%= @f.to_json.html_safe %>


	var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'multi_overlays'}}, function(){


  var innerpolygons = handler.addPolygons(
    [
    innerData
    ],
    { strokeColor: '#FF0000'}
  );

  var outerpolygons = handler.addPolygons(
    [
    outerData
    ],
    { strokeColor: '#FF0000'}
  );
// markers = handler.addMarkers([
//     {
//       lat: 53.3609245,
//       lng: -6.251565,
//       picture: {
//         url: "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
//         width:  36,
//         height: 36
//       },
//       infowindow: "hello!"
//     }
//   ]);


  var markers = handler.addMarkers(
    usersData

    );
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();






  // handler.bounds.extendWith(polylines);
   handler.bounds.extendWith(innerpolygons);
  // handler.bounds.extendWith(outerpolygons);
  // handler.bounds.extendWith(circles);
  handler.fitMapToBounds();
});
</script>

